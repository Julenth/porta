{% extends 'base.html'%}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/proyectos.css') }}">
{% endblock %}

{% block content%}
<main class="contenedor_principal fondo_header">
    <h2 class="mayusculas" style="text-align: center; margin-bottom: 40px;">Mis Proyectos</h2>
    
    {% if session.get('rol') == 'admin' %}
        <div style="text-align: center; margin-bottom: 25px;" class="boton_adims">
            <a href="{{ url_for('editar_proyectos_lista') }}" class="boton_ab" style="display: inline-block;">⚙️ Administrar Proyectos</a>
        </div>
    {% endif %}
    
    <div class="contenedor_habilidades">
        <!-- PROYECTOS ESTÁTICOS -->
        <section class="habilidad">
            <h3>IMC</h3>
            <div class="contenedor_icono">
                <img src="{{ url_for('static', filename='img/OIP.webp') }}" alt="IMC" width="300" height="200" style="border-radius: 8px;">
            </div>
            <div>
                <p><strong>Aplicación web Flask básica de IMC</strong></p>
            </div>
            <form action="{{url_for('iMC')}}" method="get">
                <button class="boton_ab" type="submit">VER AQUÍ</button>
            </form>
        </section>

        <section class="habilidad">
            <h3>CALCULADORA</h3>
            <div class="contenedor_icono">
                <img src="{{ url_for('static', filename='img/calculadora.webp') }}" alt="Calculadora" width="300" height="200" style="border-radius: 8px;">
            </div>
            <div>
                <p><strong>Calculadora online</strong></p>
            </div>
            <form action="{{url_for('calculadora')}}" method="get">
                <button class="boton_ab" type="submit">VER AQUÍ</button>
            </form>
        </section>

        <section class="habilidad">
            <h3>PROYECTO AGROPRIME</h3>
            <div class="contenedor_icono"> 
                <img src="{{ url_for('static', filename='img/logoagro.jfif') }}" width="300" height="200" alt="agroprime" style="border-radius: 8px;">
            </div>
            <div>
                <p><strong>Proyecto de graduación, aplicación web de contabilidad básica.</strong></p>
            </div>
            <a href="https://github.com/sergin07/agroprime4" target="_blank" class="boton_ab" style="display: inline-block; text-decoration: none;">VER AQUÍ</a>
        </section>

        <!-- PROYECTOS DINÁMICOS DE LA BASE DE DATOS -->
        {% if proyectos %}
            {% for proyecto in proyectos %}
                <section class="habilidad">
                    <h3>{{ proyecto.nombre }}</h3>
                    <div class="contenedor_icono">
                        {% if proyecto.url_imagen %}
                           <img src="{{ proyecto.url_imagen }}" alt="Imagen de {{ proyecto.nombre }}" width="300" height="200" style="border-radius: 8px;">
                        {% endif %}

                    </div>
                    <div>
                        <p><strong>{{ proyecto.descripcion }}</strong></p>
                    </div>
                    {% if proyecto.url_repositorio %}
                        <a href="{{ proyecto.url_repositorio }}" target="_blank" class="boton_ab" style="display: inline-block; text-decoration: none;">VER PROYECTO</a>
                    {% endif %}
                </section>
            {% endfor %}
        {% endif %}
    </div>
</main>
{%endblock%}